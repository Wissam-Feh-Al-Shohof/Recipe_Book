(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{CXQP:function(t,n,e){"use strict";e.r(n),e.d(n,"ShoppingListModule",function(){return m});var i=e("ofXK"),s=e("tyNb"),o=e("3Pt+"),r=e("fXoL"),b=e("ozzT"),c=e("9rNa");const d=["slForm"];function u(t,n){if(1&t){const t=r.Kb();r.Jb(0,"button",14),r.Qb("click",function(){return r.Zb(t),r.Sb().onDelete()}),r.dc(1,"Delete"),r.Ib()}}let l=(()=>{class t{constructor(t){this.shList=t,this.editMode=!1}ngOnInit(){this.subs=this.shList.ingredientEdit.subscribe(t=>{this.id=t,this.editMode=!0;const n=this.shList.getIngredientId(t);this.slForm.setValue({name:n.name,amount:n.amount})})}onSubmit(t){const n=new c.a(t.value.name,t.value.amount);this.editMode?this.shList.updateIngredient(this.id,n):this.shList.addIngredient(n),this.editMode=!1,t.reset()}onClear(){this.slForm.reset(),this.editMode=!1}onDelete(){this.shList.deleteIngredient(this.id),this.onClear()}ngOnDestroy(){this.subs.unsubscribe()}}return t.\u0275fac=function(n){return new(n||t)(r.Gb(b.a))},t.\u0275cmp=r.Ab({type:t,selectors:[["app-shopping-edit"]],viewQuery:function(t,n){if(1&t&&r.hc(d,!0),2&t){let t;r.Xb(t=r.Rb())&&(n.slForm=t.first)}},decls:20,vars:3,consts:[[1,"row"],[1,"col-xs-12"],[3,"ngSubmit"],["slForm","ngForm"],[1,"row","form-group"],[1,"col-sm-5"],["for","name"],["type","text","id","name","ngModel","","required","","name","name",1,"form-control"],[1,"col-sm-2"],["for","amount"],["type","number","id","amount","ngModel","","required","","pattern","^[1-9]+[0-9]*$","name","amount",1,"form-control"],["type","submit",1,"btn","btn-success",3,"disabled"],["type","button","class","btn btn-danger",3,"click",4,"ngIf"],["type","button",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(t,n){if(1&t){const t=r.Kb();r.Jb(0,"div",0),r.Jb(1,"div",1),r.Jb(2,"form",2,3),r.Qb("ngSubmit",function(){r.Zb(t);const e=r.Yb(3);return n.onSubmit(e)}),r.Jb(4,"div",4),r.Jb(5,"div",5),r.Jb(6,"label",6),r.dc(7,"Name"),r.Ib(),r.Hb(8,"input",7),r.Ib(),r.Jb(9,"div",8),r.Jb(10,"label",9),r.dc(11,"Amount"),r.Ib(),r.Hb(12,"input",10),r.Ib(),r.Ib(),r.Jb(13,"div",0),r.Jb(14,"div",1),r.Jb(15,"button",11),r.dc(16),r.Ib(),r.cc(17,u,2,0,"button",12),r.Jb(18,"button",13),r.Qb("click",function(){return n.onClear()}),r.dc(19,"Clear"),r.Ib(),r.Ib(),r.Ib(),r.Ib(),r.Ib(),r.Ib()}if(2&t){const t=r.Yb(3);r.wb(15),r.Tb("disabled",t.invalid),r.wb(1),r.ec(n.editMode?"Update":"Add"),r.wb(1),r.Tb("ngIf",n.editMode)}},directives:[o.s,o.k,o.l,o.a,o.j,o.m,o.q,o.n,o.o,i.i],styles:[""]}),t})();function a(t,n){if(1&t){const t=r.Kb();r.Jb(0,"a",4),r.Qb("click",function(){r.Zb(t);const e=n.index;return r.Sb().getId(e)}),r.dc(1),r.Ib()}if(2&t){const t=n.$implicit;r.wb(1),r.gc(" ",t.name," (",t.amount,") ")}}const p=[{path:"",component:(()=>{class t{constructor(t){this.shoppingListService=t,this.ingredients=[]}ngOnInit(){this.ingredients=this.shoppingListService.getIngredients(),this.shoppingListService.ingredientsChanged.subscribe(t=>{this.ingredients=t})}getId(t){this.shoppingListService.ingredientEdit.next(t)}}return t.\u0275fac=function(n){return new(n||t)(r.Gb(b.a))},t.\u0275cmp=r.Ab({type:t,selectors:[["app-shopping-list"]],decls:6,vars:1,consts:[[1,"row"],[1,"col-xs-10"],[1,"list-group"],["style","cursor: pointer","class","list-group-item",3,"click",4,"ngFor","ngForOf"],[1,"list-group-item",2,"cursor","pointer",3,"click"]],template:function(t,n){1&t&&(r.Jb(0,"div",0),r.Jb(1,"div",1),r.Hb(2,"app-shopping-edit"),r.Hb(3,"hr"),r.Jb(4,"ul",2),r.cc(5,a,2,2,"a",3),r.Ib(),r.Ib(),r.Ib()),2&t&&(r.wb(5),r.Tb("ngForOf",n.ingredients))},directives:[l,i.h],styles:[""]}),t})()}];let m=(()=>{class t{}return t.\u0275mod=r.Eb({type:t}),t.\u0275inj=r.Db({factory:function(n){return new(n||t)},imports:[[i.b,s.g.forChild(p),o.i],s.g]}),t})()}}]);